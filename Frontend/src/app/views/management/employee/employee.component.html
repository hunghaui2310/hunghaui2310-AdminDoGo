<div class="row">
  <div class="col-12">
    <div class="card mt-2 pd-r">
      <div class="card-body mt-3">
        <form [formGroup]="formEmployee">
          <div class="form-group row align-items-center">
            <div class="col-xl-1 col-md-1 label-name">Mã nhân viên</div>
            <div class="col-xl-3 col-md-3 col-sm-12">
              <input type="text" formControlName="employeeCode" class="cvNumber" maxlength="255">
              <span class="separator"></span>
            </div>
            <div class="col-xl-1 col-md-1 label-name">Email</div>
            <div class="col-xl-3 col-md-3 col-sm-12">
              <input type="text" formControlName="email" class="cvNumber" maxlength="255">
              <span class="separator"></span>
            </div>
            <div class="col-xl-1 col-md-1 label-name">Giới tính</div>
            <div class="col-xl-3 col-md-3 col-sm-12">
              <input type="text" formControlName="gender" class="cvNumber" maxlength="255">
              <span class="separator"></span>
            </div>
          </div>
          <div class="form-group row align-items-center">
            <div class="col-xl-1 col-md-2 label-name">Họ</div>
            <div class="col-xl-3 col-md-4 col-sm-12">
              <input type="text" formControlName="lastName" class="cvNumber" maxlength="255">
              <span class="separator"></span>
            </div>
            <div class="col-xl-1 col-md-2 label-name">Tên</div>
            <div class="col-xl-3 col-md-4 col-sm-12">
              <input type="text" formControlName="firstName" class="cvNumber" maxlength="255">
              <span class="separator"></span>
            </div>
            <div class="col-xl-1 col-md-2 label-name">Số điện thoại</div>
            <div class="col-xl-3 col-md-4 col-sm-12">
              <input type="text" formControlName="phoneNumber" class="cvNumber" maxlength="255">
              <span class="separator"></span>
            </div>
          </div>
          <div class="form-group row align-items-center">
            <div class="col-xl-1 col-md-2 label-name">Địa chỉ</div>
            <div class="col-xl-3 col-md-4 col-sm-12">
              <input type="text" formControlName="address" class="cvNumber" maxlength="255">
              <span class="separator"></span>
            </div>
            <div class="col-xl-1 col-md-2 label-name">Ngày sinh</div>
            <div class="col-xl-3 col-md-4 col-sm-12">
              <input type="text" formControlName="birth" class="cvNumber" maxlength="255">
              <span class="separator"></span>
            </div>
            <div class="col-xl-1 col-md-2 label-name">Người quản lý</div>
            <div class="col-xl-3 col-md-4 col-sm-12">
              <input type="text" formControlName="manageCode" class="cvNumber" maxlength="255">
              <span class="separator"></span>
            </div>
          </div>
          <div class="form-group row align-items-center">
            <div class="col-xl-1 col-md-2 label-name">Lương</div>
            <div class="col-xl-3 col-md-4 col-sm-12">
              <input type="text" formControlName="salary" class="cvNumber" maxlength="255">
              <span class="separator"></span>
            </div>
            <div class="col-xl-1 col-md-2 label-name">Ngày tạo</div>
            <div class="col-xl-3 col-md-4 col-sm-12">
              <input type="text" formControlName="createDate" class="cvNumber" maxlength="255">
              <span class="separator"></span>
            </div>
          </div>
        </form>
      </div>
      <div class="w-100 d-flex justify-content-center btn-update-config">
        <button class="btn m-2 btn-primary" (click)="search()"><i class="fa fa-search"></i>Tìm kiếm
        </button>
        <button class="btn m-2 btn-primary" type="button" (click)="showModalAdd()"><i class="fa fa-plus"></i>
          Thêm mới
        </button>
        <button class="btn m-2 btn-primary" type="button" (click)="download(listEmployee)"><i class="fa fa-download"></i>Tải xuống</button>
      </div>
    </div>
  </div>
</div>
<div class="row">
  <div class="col-md-12">
    <div class="table-responsive">
      <table class="table table-striped table-hover">
        <thead class="header-table">
        <tr style="background-color: aliceblue">
          <th> STT</th>
          <th>Mã nhân viên</th>
          <th>Email</th>
          <th>Tên</th>
          <th>Họ</th>
          <th>Số điện thoại</th>
          <th>Giới tính</th>
          <th>Lương</th>
          <th>Ngày sinh</th>
          <th>Người quản lý</th>
          <th>Địa chỉ</th>
          <th>Ngày tạo</th>
          <th></th>
        </tr>
        </thead>

        <tbody *ngIf="listEmployee.length === 0">
        <tr>
          <td colspan="9" align="center" style="background: white">
            Không có dữ liệu
          </td>
        </tr>
        </tbody>

        <tbody *ngIf="listEmployee && listEmployee.length > 0">
        <tr
          *ngFor="let eachPro of listEmployee | paginate: {id:'productPagination', itemsPerPage: pageSize, currentPage: currentP, totalItems: listEmployee.length}, index as i">
          <td class="text-center">{{currentP * pageSize - (pageSize - 1) + i}}</td>
          <td>
            <div data-toggle="tooltip" title="{{eachPro.code}}">{{eachPro.code}}</div>
          </td>
          <td>
            <div data-toggle="tooltip" title="{{eachPro.email}}">{{eachPro.email}}</div>
          </td>
          <td>
            <div data-toggle="tooltip" title="{{eachPro.firstName}}">{{eachPro.firstName}}</div>
          </td>
          <td>
            <div data-toggle="tooltip" title="{{eachPro.lastName}}">{{eachPro.lastName}}</div>
          </td>
          <td>
            <div data-toggle="tooltip" title="{{eachPro.phoneNumber}}"> {{eachPro.phoneNumber}}</div>
          </td>
          <td>
            <div data-toggle="tooltip" title="{{eachPro.gender}}"> {{eachPro.gender}}</div>
          </td>
          <td>
            <div data-toggle="tooltip" title="{{eachPro.salary}}"> {{eachPro.salary}}</div>
          </td>
          <td>
            <div data-toggle="tooltip" title="{{eachPro.birth}}"> {{eachPro.birth}}</div>
          </td>
          <td>
            <div data-toggle="tooltip" title="{{eachPro.manageCode}}"> {{eachPro.manageCode}}</div>
          </td>
          <td>
            <div data-toggle="tooltip" title="{{eachPro.address}}"> {{eachPro.address}}</div>
          </td>
          <td>
            <div data-toggle="tooltip" title="{{eachPro.createDate}}"> {{eachPro.createDate}}</div>
          </td>
          <td align="center">
            <span data-toggle="tooltip" data-toggle="tooltip" style="cursor: pointer; padding-right: 0.4rem"
                  title="Sửa"><mat-icon>edit</mat-icon></span>
            <span data-toggle="tooltip" data-toggle="tooltip" style="cursor: pointer" (click)="openConfirm(deleteProduct, eachPro.id)"
                  title="Xóa"><mat-icon>delete</mat-icon></span>
          </td>
        </tr>
        </tbody>
      </table>
    </div>
    <div class="w-100 d-flex justify-content-between" *ngIf="listEmployee && listEmployee.length > 0">
      <p style="margin-left: 5px;">Từ {{currentP * pageSize - (pageSize - 1)}}
        đến
        <span *ngIf="currentP*pageSize <  listEmployee.length">{{currentP * pageSize}}</span>
        <span *ngIf="currentP*pageSize >= listEmployee.length">{{listEmployee.length}}</span>
        trên tổng số {{listEmployee.length}}
        nhân viên</p>
      <ul style="float:right;" class="pagination">
        <pagination-controls id='productPagination' (pageChange)="pageChange($event)"
                             previousLabel="Trước"
                             nextLabel="Tiếp">
        </pagination-controls>
      </ul>
    </div>
  </div>
</div>

<ng-template #deleteProduct>
  <div class="row" style="margin-right: 0 !important; margin-left: 0 !important;">
    <div class="col-md-10 modal-body">
      <span> <img style="margin: 0 3px 3px 0;" src="assets/icons8-question-mark-16.png"
                  alt="">Bạn có chắc chắn muốn xóa</span>
    </div>

    <div class="col-md-2 modal-body">
      <button type="button" class="close pull-right" aria-label="Close" (click)="onBack()" size="6MB">
        <span aria-hidden="true" style="border: none">&times;</span>
      </button>
    </div>
  </div>

  <div class="modal-footer">
    <button type="button" class="btn btn-secondary click-btn-upload" (click)=onBack() style="width: 88.64px;"><i
      class="fa fa-times"></i>
      Không
    </button>
    <button class="btn btn-primary click-btn-upload" type="button" (click)=removeEmployee() style="width: 88.64px;"><i
      class="fa fa-check"></i>
      Có
    </button>
  </div>
</ng-template>


